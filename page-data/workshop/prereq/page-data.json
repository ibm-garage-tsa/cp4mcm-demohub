{"componentChunkName":"component---src-pages-workshop-prereq-index-mdx","path":"/workshop/prereq/","result":{"pageContext":{"frontmatter":{"title":"Students Prerequisite","description":"Preparing your CP4MCM environment"},"relativePagePath":"/workshop/prereq/index.mdx","titleType":"page","MdxNode":{"id":"2cf8f654-e135-563a-bfa7-c3a9b2cf86d4","children":[],"parent":"77c590bc-d3a1-51b2-b7fd-08f0560a4850","internal":{"content":"---\ntitle: Students Prerequisite\ndescription: Preparing your CP4MCM environment\n---\n\n<AnchorLinks>\n  <AnchorLink>Creating a free IKS cluster</AnchorLink>\n  <AnchorLink>Installing CLI Tools</AnchorLink>\n  <AnchorLink>Accessing the IKS Cluster</AnchorLink>\n</AnchorLinks>\n\n\n***\n\n## Creating a free IKS clusters\n\nIn this section, you will learn how to create your free IBM Cloud Kubernetes Service (IKS) Cluster. This cluster will be a Managed cluster in the IBM Cloud Pak for Multicloud Management Workshop. In IBM Cloud, you can have 1 free cluster at a time in IBM Cloud Kubernetes Service, and each free cluster expires in 30 days. Free clusters have [select capabilities](https://cloud.ibm.com/docs/containers?topic=containers-cs_ov#cluster_types), minimal 2x4 compute resources, select single zone locations, and support only the Kubernetes container platform and IBM Cloud classic infrastructure provider. Free clusters are ideal for testing out Kubernetes deployments and getting familiar with the IBM Cloud Kubernetes Service API, CLI, and console tools.\n\n**Note:** to create a free cluster, you need to have an [IBM Cloud account](https://cloud.ibm.com/registration) and upgrade your account to a [Pay-As-You-Go or Subscription account](https://cloud.ibm.com/docs/account?topic=account-upgrading-account), where you are the owner or have (full Administrator access)[https://cloud.ibm.com/docs/account?topic=account-assign-access-resources].\n\n\n1. Now that you have your IBM Cloud account ready to create a free IKS Cluster. In the [IBM Cloud Catalog](https://cloud.ibm.com/catalog?category=containers#services), select **Kubernetes Service**.\n\n  ![](images/1-free-iks.png)\n\n2. Select the **Free** cluster option (1). You can keep the default name: mycluster-free (2).\n\n  ![](images/2-free-iks.png)\n\n3. Click **Create Cluster**. A worker pool is created that contains one worker node.\n\n  ![](images/3-free-iks.png)\n\n  The worker node can take a few minutes to provision, but you can see the progress in the **Worker nodes** tab. When the status reaches Ready, you can start working with your cluster.\n\n***\n\n## Installing CLI Tools\n\nCLI tools provide the ability to manage applications, containers, infrastructures, services, and other resources. In this section you will install all the necessary CLI tool in your local machine to be able to complete the Labs.\n\n*Note:* If you have already installed all CLIs in your local machine, you can skip this page.\n\n\n<Accordion>\n  <AccordionItem title=\"Install IBM Cloud Pak CLI (cloudctl)\">\n\n1.You should be on your CP4MCM Web Console, if not, check how to access it in [Before Start](../beforestart/) page.\n\n  From the CP4MCM Web Console page, select the **user icon**, then click **Configure client**.\n\n  ![](images/2-cloudpak-cli.png)\n\n2.Click **Install CLI tools**.\n\n  ![](images/3-cloudpak-cli.png)\n\n3.Expand **Install IBM Cloud Pak CLI (cloudctl)**. Read the text, then copy and run the curl command for your operating system.\n\n  ![](images/4-cloudpak-cli.png)\n\n  ![](images/5-cloudpak-cli.png)\n\n4.After you run the curl command for your operating system, continue to install the IBM Cloud Pak速 CLI.\n\n  To install the IBM Cloud Pak速 CLI, run the command that matches your client computer operating system, where <path_to_installer> is the path to the directory where you downloaded the cloudctl file, and <install_file> is the downloaded file name.\n\n  For example, for Linux and macOS, run the following commands to change and move the file. Remember that the curl command for your cluster is located in the console:\n\n```\nchmod 755 <path_to_installer>/<install_file>\nsudo mv <path_to_installer>/<install_file> /usr/local/bin/cloudctl\n```\n\n  For Windows, rename the downloaded file to cloudctl and place the file on the PATH environment variable.\n\n  ![](images/6-cloudpak-cli.png)\n\n5.Confirm that cloudctl is installed:\n\n```\ncloudctl --help\n```\n\n  ![](images/7-cloudpak-cli.png)\n\n6.Log in to your cluster with the following command:\n```\ncloudctl login -a <CP4MCM_Console_URL>  --skip-ssl-validation\n```\n\n  Where `CP4MCM_Console_URL` is the hostname of your CP4MCM console, something like *https://icp-console.playgroth-mcm...appdomain.cloud*\n\n  After the command, you need to enter your CP4MCM **admin user** (1), your admin **password** (32 charecters password that you defined in the CP4MCM installation) and enter **default** as namespace.\n\n  ![](images/7_2-cluster-mgmt-img.png)\n\n</AccordionItem>\n\n  <AccordionItem title=\"Install Kubectl CLI\">\n\n1.Let's set up the kubectl CLI. Expand Install Kubernetes CLI to download the installer by using a curl command. Copy and run the curl command for your operating system, then continue the installation procedure in the product documentation.\n\n  ![](images/8-cloudpak-cli.png)\n\n2.Change the file to an executable, then move the file to a directory that is included in your PATH environment variable. See the following commands where <path_to_installer> is the location of the file that you downloaded and <install_file> is the name of the file:\n\n  For Linux and macOS, run the following commands to change the permissions of the file and move the file to a directory that is included in your PATH environment variable:\n\n```\nchmod 755 <path_to_installer>/<install_file>\nsudo mv <path_to_installer>/<install_file> /usr/local/bin/kubectl\n```\n\n  For Windows, rename the downloaded file to kubectl and place the file in a directory that is listed in the PATH environment variable.\n</AccordionItem>\n\n<AccordionItem title=\"Install IBM Cloud CLI\">\n1.In this tutorial, you install the IBM Cloud CLI along with popular plug-ins and tools so you can work with Kubernete, OpenShift clusters, and more in IBM Cloud.\n\n  You can use the Red Hat OpenShift on IBM Cloud command line interface (CLI) plug-in (ibmcloud oc) to create and manage your OpenShift cluster infrastructure, such as creating clusters and worker nodes. Then, you can use the OpenShift CLI (oc) to manage the resources within your OpenShift cluster, such as projects, pods, and deployments.\n\n  Run the command below to install the IBM Cloud CLI.\n\n```\ncurl -sL https://ibm.biz/idt-installer | bash\n```\n\n  ![](images/17-cloudpak-cli.png)\n\n2.To verify that the CLI and Developer Tools were installed successfully, run the help command:\n\n```\nibmcloud dev help\n```\n\n  ![](images/18-cloudpak-cli.png)\n\n3.Log in to IBM Cloud with your IBMid using the command below to guarantee that you will select your personal account (not DTE account).\n\n```\nibmcloud login -a cloud.ibm.com -g default\n```\n\n  Follow the instructions to log in your IBM Cloud account.\n\n  *If your IBMid has SSO implemented, use: ibmcloud login -sso.*\n\n\n\n4.To avoid the login or SSO extra steps, you can generate an IBM Cloud API Key. Let's do it!  Create an IBM Cloud API Key by running the follow command:\n\n```\nibmcloud iam api-key-create myibmcloudkey --file myic.key\n```\n\n5.Let's test the new key. First logout from IBM Cloud.\n\n```\nibmcloud logout\n```\n\n6.Now, log in using the command below:\n\n```\nibmcloud login --apikey @myic.key -r <your_region> -g default -c <your_ibm_id>\n```\n\n</AccordionItem>\n\n<AccordionItem title=\"Install OC CLI\">\n\n1.Now open your OpenShift console (there is a link available in email that you received from IBM Cloud, after your Environment Request).\n\n2.On Openshift Console, open the Help menu and select the Command Line Tools link.\n\n  ![](images/19-cloudpak-cli.png)\n\n3.On the  OpenShift Command Line Interface section, download the OC CLI specific for your operational system.\n\n  ![](images/20-cloudpak-cli.png)\n\n4.If you are using Linux or macOS, run the following commands to change and move the file.\n\n```\nchmod 755 <path_to_installer>/<install_file>\nsudo mv <path_to_installer>/<install_file> /usr/local/bin/cloudctl\n```\n\n5.To verify that the CLI was installed successfully, run the follow command:\n\n```\noc get nodes\n```\n\n</AccordionItem>\n\n<AccordionItem title=\"Install Git CLI\">\n\n  You will need Git CLI to clone some YAML files as part of the Application Management Lab. Follow the installation steps described in the page below [Git site](https://git-scm.com/downloads) , based in your operational system.\n\n</AccordionItem>\n\n</Accordion>\n\n***\n\n## Accessing the IKS Cluster\n\n1.Back to the [IBM Cloud Dashboard page](https://cloud.ibm.com/).\n\n  ![](images/25-cloudpak-cli.png)\n\n2.On IBM Cloud Dashboard, click **Clusters** to see your IKS Free Cluster.\n\n  ![](images/27-cloudpak-cli.png)\n\n4.Click the IKS Free cluster to open the cluster view.\n\n  ![](images/28-cloudpak-cli.png)\n\n5.To configure your CLI to access this cluster, you will need the cluster name, take note of it.\n\n  ![](images/29-cloudpak-cli.png)\n\n6.Open a Terminal window, if you are not logged in IBM Cloud CLI, go ahead and log in using your IBM Cloud API Key (check IBM Cloud CLI section on [Install CLI Tools page](../installcli) to know how to create an API key)\n\n```\nibmcloud login --apikey @myic.key -r us-south -g default -c <your_ibm_id>\n```\n\n7.Set the Kubernetes context to your cluster for this terminal session.\n```\nibmcloud ks cluster config --cluster mycluster-free\n```\n\n  ![](images/30-cloudpak-cli.png)\n\n8.Check the Kubernetes context available, running the command below:\n\n```\nkubectl config get-contexts\n```\n\n  You should have a mycluster-free that point to your IKS cluster.\n\n  ![](images/39-cloudpak-cli.png)\n\n  Next step, you will rename this context to simplify how you interact with your IKS server during our lab. Copy the full name of your mycluster-free context.\n\n9.Rename your context, running the command below:\n\n```\nkubectl config rename-context <mycluster-free/full_name> iks-free-cluster\n```\n\n10.Now, let's set the current Kubernetes context\n```\nkubectl config use-context iks-free-cluster\n```\n\n  >Note: Anytime that you want to connect to your IKS Free cluster, you just need to run the command above.\n\n11.Let's test the new context configuration. Run the command below to get the cluster nodes.\n```\nkubectl get nodes\n```\n\n  ![](images/31-cloudpak-cli.png)\n\n  Great, your IKS cluster is configured and ready to use.\n","type":"Mdx","contentDigest":"3676da4c94e979cbd14bcc59c4790d7d","counter":721,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Students Prerequisite","description":"Preparing your CP4MCM environment"},"exports":{},"rawBody":"---\ntitle: Students Prerequisite\ndescription: Preparing your CP4MCM environment\n---\n\n<AnchorLinks>\n  <AnchorLink>Creating a free IKS cluster</AnchorLink>\n  <AnchorLink>Installing CLI Tools</AnchorLink>\n  <AnchorLink>Accessing the IKS Cluster</AnchorLink>\n</AnchorLinks>\n\n\n***\n\n## Creating a free IKS clusters\n\nIn this section, you will learn how to create your free IBM Cloud Kubernetes Service (IKS) Cluster. This cluster will be a Managed cluster in the IBM Cloud Pak for Multicloud Management Workshop. In IBM Cloud, you can have 1 free cluster at a time in IBM Cloud Kubernetes Service, and each free cluster expires in 30 days. Free clusters have [select capabilities](https://cloud.ibm.com/docs/containers?topic=containers-cs_ov#cluster_types), minimal 2x4 compute resources, select single zone locations, and support only the Kubernetes container platform and IBM Cloud classic infrastructure provider. Free clusters are ideal for testing out Kubernetes deployments and getting familiar with the IBM Cloud Kubernetes Service API, CLI, and console tools.\n\n**Note:** to create a free cluster, you need to have an [IBM Cloud account](https://cloud.ibm.com/registration) and upgrade your account to a [Pay-As-You-Go or Subscription account](https://cloud.ibm.com/docs/account?topic=account-upgrading-account), where you are the owner or have (full Administrator access)[https://cloud.ibm.com/docs/account?topic=account-assign-access-resources].\n\n\n1. Now that you have your IBM Cloud account ready to create a free IKS Cluster. In the [IBM Cloud Catalog](https://cloud.ibm.com/catalog?category=containers#services), select **Kubernetes Service**.\n\n  ![](images/1-free-iks.png)\n\n2. Select the **Free** cluster option (1). You can keep the default name: mycluster-free (2).\n\n  ![](images/2-free-iks.png)\n\n3. Click **Create Cluster**. A worker pool is created that contains one worker node.\n\n  ![](images/3-free-iks.png)\n\n  The worker node can take a few minutes to provision, but you can see the progress in the **Worker nodes** tab. When the status reaches Ready, you can start working with your cluster.\n\n***\n\n## Installing CLI Tools\n\nCLI tools provide the ability to manage applications, containers, infrastructures, services, and other resources. In this section you will install all the necessary CLI tool in your local machine to be able to complete the Labs.\n\n*Note:* If you have already installed all CLIs in your local machine, you can skip this page.\n\n\n<Accordion>\n  <AccordionItem title=\"Install IBM Cloud Pak CLI (cloudctl)\">\n\n1.You should be on your CP4MCM Web Console, if not, check how to access it in [Before Start](../beforestart/) page.\n\n  From the CP4MCM Web Console page, select the **user icon**, then click **Configure client**.\n\n  ![](images/2-cloudpak-cli.png)\n\n2.Click **Install CLI tools**.\n\n  ![](images/3-cloudpak-cli.png)\n\n3.Expand **Install IBM Cloud Pak CLI (cloudctl)**. Read the text, then copy and run the curl command for your operating system.\n\n  ![](images/4-cloudpak-cli.png)\n\n  ![](images/5-cloudpak-cli.png)\n\n4.After you run the curl command for your operating system, continue to install the IBM Cloud Pak速 CLI.\n\n  To install the IBM Cloud Pak速 CLI, run the command that matches your client computer operating system, where <path_to_installer> is the path to the directory where you downloaded the cloudctl file, and <install_file> is the downloaded file name.\n\n  For example, for Linux and macOS, run the following commands to change and move the file. Remember that the curl command for your cluster is located in the console:\n\n```\nchmod 755 <path_to_installer>/<install_file>\nsudo mv <path_to_installer>/<install_file> /usr/local/bin/cloudctl\n```\n\n  For Windows, rename the downloaded file to cloudctl and place the file on the PATH environment variable.\n\n  ![](images/6-cloudpak-cli.png)\n\n5.Confirm that cloudctl is installed:\n\n```\ncloudctl --help\n```\n\n  ![](images/7-cloudpak-cli.png)\n\n6.Log in to your cluster with the following command:\n```\ncloudctl login -a <CP4MCM_Console_URL>  --skip-ssl-validation\n```\n\n  Where `CP4MCM_Console_URL` is the hostname of your CP4MCM console, something like *https://icp-console.playgroth-mcm...appdomain.cloud*\n\n  After the command, you need to enter your CP4MCM **admin user** (1), your admin **password** (32 charecters password that you defined in the CP4MCM installation) and enter **default** as namespace.\n\n  ![](images/7_2-cluster-mgmt-img.png)\n\n</AccordionItem>\n\n  <AccordionItem title=\"Install Kubectl CLI\">\n\n1.Let's set up the kubectl CLI. Expand Install Kubernetes CLI to download the installer by using a curl command. Copy and run the curl command for your operating system, then continue the installation procedure in the product documentation.\n\n  ![](images/8-cloudpak-cli.png)\n\n2.Change the file to an executable, then move the file to a directory that is included in your PATH environment variable. See the following commands where <path_to_installer> is the location of the file that you downloaded and <install_file> is the name of the file:\n\n  For Linux and macOS, run the following commands to change the permissions of the file and move the file to a directory that is included in your PATH environment variable:\n\n```\nchmod 755 <path_to_installer>/<install_file>\nsudo mv <path_to_installer>/<install_file> /usr/local/bin/kubectl\n```\n\n  For Windows, rename the downloaded file to kubectl and place the file in a directory that is listed in the PATH environment variable.\n</AccordionItem>\n\n<AccordionItem title=\"Install IBM Cloud CLI\">\n1.In this tutorial, you install the IBM Cloud CLI along with popular plug-ins and tools so you can work with Kubernete, OpenShift clusters, and more in IBM Cloud.\n\n  You can use the Red Hat OpenShift on IBM Cloud command line interface (CLI) plug-in (ibmcloud oc) to create and manage your OpenShift cluster infrastructure, such as creating clusters and worker nodes. Then, you can use the OpenShift CLI (oc) to manage the resources within your OpenShift cluster, such as projects, pods, and deployments.\n\n  Run the command below to install the IBM Cloud CLI.\n\n```\ncurl -sL https://ibm.biz/idt-installer | bash\n```\n\n  ![](images/17-cloudpak-cli.png)\n\n2.To verify that the CLI and Developer Tools were installed successfully, run the help command:\n\n```\nibmcloud dev help\n```\n\n  ![](images/18-cloudpak-cli.png)\n\n3.Log in to IBM Cloud with your IBMid using the command below to guarantee that you will select your personal account (not DTE account).\n\n```\nibmcloud login -a cloud.ibm.com -g default\n```\n\n  Follow the instructions to log in your IBM Cloud account.\n\n  *If your IBMid has SSO implemented, use: ibmcloud login -sso.*\n\n\n\n4.To avoid the login or SSO extra steps, you can generate an IBM Cloud API Key. Let's do it!  Create an IBM Cloud API Key by running the follow command:\n\n```\nibmcloud iam api-key-create myibmcloudkey --file myic.key\n```\n\n5.Let's test the new key. First logout from IBM Cloud.\n\n```\nibmcloud logout\n```\n\n6.Now, log in using the command below:\n\n```\nibmcloud login --apikey @myic.key -r <your_region> -g default -c <your_ibm_id>\n```\n\n</AccordionItem>\n\n<AccordionItem title=\"Install OC CLI\">\n\n1.Now open your OpenShift console (there is a link available in email that you received from IBM Cloud, after your Environment Request).\n\n2.On Openshift Console, open the Help menu and select the Command Line Tools link.\n\n  ![](images/19-cloudpak-cli.png)\n\n3.On the  OpenShift Command Line Interface section, download the OC CLI specific for your operational system.\n\n  ![](images/20-cloudpak-cli.png)\n\n4.If you are using Linux or macOS, run the following commands to change and move the file.\n\n```\nchmod 755 <path_to_installer>/<install_file>\nsudo mv <path_to_installer>/<install_file> /usr/local/bin/cloudctl\n```\n\n5.To verify that the CLI was installed successfully, run the follow command:\n\n```\noc get nodes\n```\n\n</AccordionItem>\n\n<AccordionItem title=\"Install Git CLI\">\n\n  You will need Git CLI to clone some YAML files as part of the Application Management Lab. Follow the installation steps described in the page below [Git site](https://git-scm.com/downloads) , based in your operational system.\n\n</AccordionItem>\n\n</Accordion>\n\n***\n\n## Accessing the IKS Cluster\n\n1.Back to the [IBM Cloud Dashboard page](https://cloud.ibm.com/).\n\n  ![](images/25-cloudpak-cli.png)\n\n2.On IBM Cloud Dashboard, click **Clusters** to see your IKS Free Cluster.\n\n  ![](images/27-cloudpak-cli.png)\n\n4.Click the IKS Free cluster to open the cluster view.\n\n  ![](images/28-cloudpak-cli.png)\n\n5.To configure your CLI to access this cluster, you will need the cluster name, take note of it.\n\n  ![](images/29-cloudpak-cli.png)\n\n6.Open a Terminal window, if you are not logged in IBM Cloud CLI, go ahead and log in using your IBM Cloud API Key (check IBM Cloud CLI section on [Install CLI Tools page](../installcli) to know how to create an API key)\n\n```\nibmcloud login --apikey @myic.key -r us-south -g default -c <your_ibm_id>\n```\n\n7.Set the Kubernetes context to your cluster for this terminal session.\n```\nibmcloud ks cluster config --cluster mycluster-free\n```\n\n  ![](images/30-cloudpak-cli.png)\n\n8.Check the Kubernetes context available, running the command below:\n\n```\nkubectl config get-contexts\n```\n\n  You should have a mycluster-free that point to your IKS cluster.\n\n  ![](images/39-cloudpak-cli.png)\n\n  Next step, you will rename this context to simplify how you interact with your IKS server during our lab. Copy the full name of your mycluster-free context.\n\n9.Rename your context, running the command below:\n\n```\nkubectl config rename-context <mycluster-free/full_name> iks-free-cluster\n```\n\n10.Now, let's set the current Kubernetes context\n```\nkubectl config use-context iks-free-cluster\n```\n\n  >Note: Anytime that you want to connect to your IKS Free cluster, you just need to run the command above.\n\n11.Let's test the new context configuration. Run the command below to get the cluster nodes.\n```\nkubectl get nodes\n```\n\n  ![](images/31-cloudpak-cli.png)\n\n  Great, your IKS cluster is configured and ready to use.\n","fileAbsolutePath":"/Users/dymaczew/Documents/_code/mcm/cp4mcm-demohub/src/pages/workshop/prereq/index.mdx"}}},"staticQueryHashes":["1364590287","2102389209","2102389209","227138135","227138135","2456312558","2746626797","2746626797","3018647132","3018647132","3906363820","3906363820","768070550"]}